import React from 'react';
import styled from 'styled-components';
import AtomCheckbox from '../atoms/AtomCheckbox';
import { palette } from '../../../../assets/styles/Palette';
import { useAtom } from "jotai";
import { 
  SELECTED_ALL_PANELS,
  VIEW_PANEL_TYPE,
  FILTERD_PANEL_COUNT,
} from "../../../AtomStates";

const MoleculePanelControls = ({ selectedCount, loadedPanelCount, handleAllSelectChange }) => {
  const [viewPanelType, setViewPanelType] = useAtom(VIEW_PANEL_TYPE);
  const [selectedAllPanels, setSelectedAllPanels] = useAtom(SELECTED_ALL_PANELS);
  const [filterdPanelCount, setFilterdPanelCount] = useAtom(FILTERD_PANEL_COUNT);

  const onToggleView = () => {
    setViewPanelType(prev => !prev);
  };

  return (
    <ControlsWrapper>
      <AtomCheckbox id="allChk" label="전체 선택" checked={selectedAllPanels} onChange={handleAllSelectChange}/>
      <ChoicePanel>
        {filterdPanelCount.toLocaleString()}명의 패널 중 <strong>{selectedCount}</strong>명의 패널을 선택하셨어요
      </ChoicePanel>
      <ViewList>
        <input
          type="radio"
          id="setCardType"
          name="viewGroup"
          value="card"
          defaultChecked={viewPanelType}
          onClick={() => setViewPanelType(true)}
        />
        <label htmlFor="setCardType">카드보기</label>
        <input
          type="radio"
          id="setListType"
          name="viewGroup"
          value="list"
          checked={!viewPanelType}
          onClick={() => setViewPanelType(false)}
        />
        <label htmlFor="setListType">목록보기</label>
        {/* <button onClick={onToggleView}>목록보기</button> */}
      </ViewList>
    </ControlsWrapper>
  );
};

export default MoleculePanelControls;

const ControlsWrapper = styled.div`
  position:relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;

  .sortBooth {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:32px;
  }
`;

const ChoicePanel = styled.div`
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%, -50%);

  strong {
    font-weight: 400;
    margin: 0 12px;
    padding: 4px 20px;
    border-radius: 8px;
    background: rgba(4, 83, 244, 0.1);
  }
`;

const ViewList = styled.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 30px;

  input[type="radio"] {
    opacity:0;
    position:absolute;
    left:0;
  }

  input[type="radio"] + label {
    position:relative;
    line-height:20px;
    color:${palette.lightGray};
    display:inline-block;
    padding-left:28px;
    cursor:pointer;
    background-size:20px;
    background-repeat:no-repeat;
    background-position:left center;
  }

  #setCardType + label {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M3.8709 20H16.1291C17.1557 20 18.1403 19.5921 18.8662 18.8662C19.5921 18.1402 20 17.1556 20 16.1291V3.8709C20 2.84425 19.5921 1.8597 18.8662 1.13378C18.1402 0.407854 17.1556 0 16.1291 0H3.8709C2.84425 0 1.8597 0.407854 1.13378 1.13378C0.407854 1.8598 0 2.84436 0 3.8709V16.1291C0 17.1557 0.407854 18.1403 1.13378 18.8662C1.8598 19.5921 2.84436 20 3.8709 20ZM2.58057 16.129V8.38697H8.70966V17.4193H3.8709C3.52869 17.4193 3.20052 17.2833 2.9585 17.0414C2.71656 16.7993 2.58057 16.4712 2.58057 16.129ZM16.1291 17.4193H11.2903V14.1935H17.4194V16.129C17.4194 16.4712 17.2835 16.7994 17.0415 17.0414C16.7995 17.2833 16.4713 17.4193 16.1291 17.4193ZM17.4194 3.87079V11.6128H11.2903V2.58046H16.1291C16.4713 2.58046 16.7995 2.71644 17.0415 2.95839C17.2834 3.20043 17.4194 3.52859 17.4194 3.87079ZM3.8709 2.58046H8.70966V5.8063H2.58057V3.87079C2.58057 3.52859 2.71655 3.20041 2.9585 2.95839C3.20054 2.71645 3.52869 2.58046 3.8709 2.58046Z' fill='%23AAAAAA'/%3E%3C/svg%3E");
  }

  #setCardType:checked + label {
    color:${palette.blue};
    font-weight:600;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M3.8709 20H16.1291C17.1557 20 18.1403 19.5921 18.8662 18.8662C19.5921 18.1402 20 17.1556 20 16.1291V3.8709C20 2.84425 19.5921 1.8597 18.8662 1.13378C18.1402 0.407854 17.1556 0 16.1291 0H3.8709C2.84425 0 1.8597 0.407854 1.13378 1.13378C0.407854 1.8598 0 2.84436 0 3.8709V16.1291C0 17.1557 0.407854 18.1403 1.13378 18.8662C1.8598 19.5921 2.84436 20 3.8709 20ZM2.58057 16.129V8.38697H8.70966V17.4193H3.8709C3.52869 17.4193 3.20052 17.2833 2.9585 17.0414C2.71656 16.7993 2.58057 16.4712 2.58057 16.129ZM16.1291 17.4193H11.2903V14.1935H17.4194V16.129C17.4194 16.4712 17.2835 16.7994 17.0415 17.0414C16.7995 17.2833 16.4713 17.4193 16.1291 17.4193ZM17.4194 3.87079V11.6128H11.2903V2.58046H16.1291C16.4713 2.58046 16.7995 2.71644 17.0415 2.95839C17.2834 3.20043 17.4194 3.52859 17.4194 3.87079ZM3.8709 2.58046H8.70966V5.8063H2.58057V3.87079C2.58057 3.52859 2.71655 3.20041 2.9585 2.95839C3.20054 2.71645 3.52869 2.58046 3.8709 2.58046Z' fill='%230453F4'/%3E%3C/svg%3E");
  }

  #setListType + label {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M0 5.3125C0 6.22417 0.362135 7.09849 1.00677 7.74323C1.65151 8.38786 2.52583 8.75 3.4375 8.75H5.3125C6.22416 8.75 7.09848 8.38786 7.74322 7.74323C8.38786 7.09849 8.74999 6.22417 8.74999 5.3125V3.4375C8.74999 2.52583 8.38786 1.65151 7.74322 1.00677C7.09848 0.362135 6.22416 0 5.3125 0H3.4375C2.52583 0 1.65151 0.362135 1.00677 1.00677C0.362135 1.65151 0 2.52583 0 3.4375V5.3125ZM2.5 3.4375C2.5 3.18888 2.59877 2.95044 2.77455 2.77456C2.95044 2.59878 3.18888 2.5 3.4375 2.5H5.3125C5.56111 2.5 5.79955 2.59878 5.97544 2.77456C6.15122 2.95044 6.24999 3.18888 6.24999 3.4375V5.3125C6.24999 5.56112 6.15122 5.79956 5.97544 5.97544C5.79955 6.15122 5.56111 6.25 5.3125 6.25H3.4375C3.18888 6.25 2.95044 6.15122 2.77455 5.97544C2.59877 5.79956 2.5 5.56112 2.5 5.3125V3.4375Z' fill='%23AAAAAA'/%3E%3Cpath d='M0 16.5623C0 17.474 0.362135 18.3483 1.00677 18.993C1.65151 19.6377 2.52583 19.9998 3.4375 19.9998H5.3125C6.22416 19.9998 7.09848 19.6377 7.74322 18.993C8.38786 18.3483 8.74999 17.474 8.74999 16.5623V14.6873C8.74999 13.7757 8.38786 12.9013 7.74322 12.2566C7.09848 11.612 6.22416 11.2498 5.3125 11.2498H3.4375C2.52583 11.2498 1.65151 11.612 1.00677 12.2566C0.362135 12.9013 0 13.7757 0 14.6873V16.5623ZM2.5 14.6873C2.5 14.4387 2.59877 14.2003 2.77455 14.0244C2.95044 13.8486 3.18888 13.7498 3.4375 13.7498H5.3125C5.56111 13.7498 5.79955 13.8486 5.97544 14.0244C6.15122 14.2003 6.24999 14.4387 6.24999 14.6873V16.5623C6.24999 16.8109 6.15122 17.0494 5.97544 17.2253C5.79955 17.401 5.56111 17.4998 5.3125 17.4998H3.4375C3.18888 17.4998 2.95044 17.401 2.77455 17.2253C2.59877 17.0494 2.5 16.8109 2.5 16.5623V14.6873Z' fill='%23AAAAAA'/%3E%3Cpath d='M18.75 0.624573H12.1875C11.741 0.624573 11.3282 0.862812 11.105 1.24957C10.8817 1.63634 10.8817 2.1128 11.105 2.49957C11.3283 2.88634 11.741 3.12457 12.1875 3.12457H18.75C19.1966 3.12457 19.6093 2.88633 19.8326 2.49957C20.0558 2.1128 20.0558 1.63634 19.8326 1.24957C19.6093 0.862802 19.1966 0.624573 18.75 0.624573Z' fill='%23AAAAAA'/%3E%3Cpath d='M18.75 5.62543H12.1875C11.741 5.62543 11.3282 5.86367 11.105 6.25043C10.8817 6.6372 10.8817 7.11366 11.105 7.50043C11.3283 7.8872 11.741 8.12543 12.1875 8.12543H18.75C19.1966 8.12543 19.6093 7.88719 19.8326 7.50043C20.0558 7.11366 20.0558 6.6372 19.8326 6.25043C19.6093 5.86366 19.1966 5.62543 18.75 5.62543Z' fill='%23AAAAAA'/%3E%3Cpath d='M18.75 11.8754H12.1875C11.741 11.8754 11.3282 12.1137 11.105 12.5004C10.8817 12.8872 10.8817 13.3637 11.105 13.7504C11.3283 14.1372 11.741 14.3754 12.1875 14.3754H18.75C19.1966 14.3754 19.6093 14.1372 19.8326 13.7504C20.0558 13.3637 20.0558 12.8872 19.8326 12.5004C19.6093 12.1137 19.1966 11.8754 18.75 11.8754Z' fill='%23AAAAAA'/%3E%3Cpath d='M18.75 16.8752H12.1875C11.741 16.8752 11.3282 17.1134 11.105 17.5002C10.8817 17.887 10.8817 18.3634 11.105 18.7502C11.3283 19.137 11.741 19.3752 12.1875 19.3752H18.75C19.1966 19.3752 19.6093 19.1369 19.8326 18.7502C20.0558 18.3634 20.0558 17.887 19.8326 17.5002C19.6093 17.1134 19.1966 16.8752 18.75 16.8752Z' fill='%23AAAAAA'/%3E%3C/svg%3E");
  }

  #setListType:checked + label {
    color:${palette.blue};
    font-weight:600;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M0 5.3125C0 6.22417 0.362135 7.09849 1.00677 7.74323C1.65151 8.38786 2.52583 8.75 3.4375 8.75H5.3125C6.22416 8.75 7.09848 8.38786 7.74322 7.74323C8.38786 7.09849 8.74999 6.22417 8.74999 5.3125V3.4375C8.74999 2.52583 8.38786 1.65151 7.74322 1.00677C7.09848 0.362135 6.22416 0 5.3125 0H3.4375C2.52583 0 1.65151 0.362135 1.00677 1.00677C0.362135 1.65151 0 2.52583 0 3.4375V5.3125ZM2.5 3.4375C2.5 3.18888 2.59877 2.95044 2.77455 2.77456C2.95044 2.59878 3.18888 2.5 3.4375 2.5H5.3125C5.56111 2.5 5.79955 2.59878 5.97544 2.77456C6.15122 2.95044 6.24999 3.18888 6.24999 3.4375V5.3125C6.24999 5.56112 6.15122 5.79956 5.97544 5.97544C5.79955 6.15122 5.56111 6.25 5.3125 6.25H3.4375C3.18888 6.25 2.95044 6.15122 2.77455 5.97544C2.59877 5.79956 2.5 5.56112 2.5 5.3125V3.4375Z' fill='%230453F4'/%3E%3Cpath d='M0 16.5623C0 17.474 0.362135 18.3483 1.00677 18.993C1.65151 19.6377 2.52583 19.9998 3.4375 19.9998H5.3125C6.22416 19.9998 7.09848 19.6377 7.74322 18.993C8.38786 18.3483 8.74999 17.474 8.74999 16.5623V14.6873C8.74999 13.7757 8.38786 12.9013 7.74322 12.2566C7.09848 11.612 6.22416 11.2498 5.3125 11.2498H3.4375C2.52583 11.2498 1.65151 11.612 1.00677 12.2566C0.362135 12.9013 0 13.7757 0 14.6873V16.5623ZM2.5 14.6873C2.5 14.4387 2.59877 14.2003 2.77455 14.0244C2.95044 13.8486 3.18888 13.7498 3.4375 13.7498H5.3125C5.56111 13.7498 5.79955 13.8486 5.97544 14.0244C6.15122 14.2003 6.24999 14.4387 6.24999 14.6873V16.5623C6.24999 16.8109 6.15122 17.0494 5.97544 17.2253C5.79955 17.401 5.56111 17.4998 5.3125 17.4998H3.4375C3.18888 17.4998 2.95044 17.401 2.77455 17.2253C2.59877 17.0494 2.5 16.8109 2.5 16.5623V14.6873Z' fill='%230453F4'/%3E%3Cpath d='M18.75 0.624573H12.1875C11.741 0.624573 11.3282 0.862812 11.105 1.24957C10.8817 1.63634 10.8817 2.1128 11.105 2.49957C11.3283 2.88634 11.741 3.12457 12.1875 3.12457H18.75C19.1966 3.12457 19.6093 2.88633 19.8326 2.49957C20.0558 2.1128 20.0558 1.63634 19.8326 1.24957C19.6093 0.862802 19.1966 0.624573 18.75 0.624573Z' fill='%230453F4'/%3E%3Cpath d='M18.75 5.62543H12.1875C11.741 5.62543 11.3282 5.86367 11.105 6.25043C10.8817 6.6372 10.8817 7.11366 11.105 7.50043C11.3283 7.8872 11.741 8.12543 12.1875 8.12543H18.75C19.1966 8.12543 19.6093 7.88719 19.8326 7.50043C20.0558 7.11366 20.0558 6.6372 19.8326 6.25043C19.6093 5.86366 19.1966 5.62543 18.75 5.62543Z' fill='%230453F4'/%3E%3Cpath d='M18.75 11.8754H12.1875C11.741 11.8754 11.3282 12.1137 11.105 12.5004C10.8817 12.8872 10.8817 13.3637 11.105 13.7504C11.3283 14.1372 11.741 14.3754 12.1875 14.3754H18.75C19.1966 14.3754 19.6093 14.1372 19.8326 13.7504C20.0558 13.3637 20.0558 12.8872 19.8326 12.5004C19.6093 12.1137 19.1966 11.8754 18.75 11.8754Z' fill='%230453F4'/%3E%3Cpath d='M18.75 16.8752H12.1875C11.741 16.8752 11.3282 17.1134 11.105 17.5002C10.8817 17.887 10.8817 18.3634 11.105 18.7502C11.3283 19.137 11.741 19.3752 12.1875 19.3752H18.75C19.1966 19.3752 19.6093 19.1369 19.8326 18.7502C20.0558 18.3634 20.0558 17.887 19.8326 17.5002C19.6093 17.1134 19.1966 16.8752 18.75 16.8752Z' fill='%230453F4'/%3E%3C/svg%3E");
  }
`;